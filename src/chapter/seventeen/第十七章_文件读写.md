## 第十七章 文件

java7引入了新的文件操作库**java.nio.file**<br>

结合java8中的流式操作（Streams），可以让文件操作编程变得更加优雅。



### 文件和目录的路径（Path类）

Path对象表示文件或者目录的路径，这个路径是抽象的路径，**与底层的操作系统与文件系统无关**。

它可以让程序运行在不同的操作系统上

下面这个是Linux和Windows系统目录的区别，最主要的一个是目录分隔符的不同，windows使用'\\'，Linux使用'/'，**使用Path对象可以在程序中屏蔽掉这种目录的差异。**

[几分钟了解，Linux和Windows系统目录区别_沐思的博客-CSDN博客](https://blog.csdn.net/weixin_51144958/article/details/114580532)



#### 如何创建一个Path对象

利用**java.nio.file.Paths**的静态方法get()，将一系列字符串（比如某个路径中的各级目录，也可以直接传入文件或者目录的绝对路径或者相对路径）或者一个URI转换为一个Path对象。

* toString()：路径的字符串形式
* toAbsolutePath(): 绝对路径
* toRealPath(): 真实路径
* toUri()：路径对应的Uri形式

这里的Uri表示统一资源标识符，用于标识某一个互联网资源（可以是本地资源，也可以是线上的资源）的字符串

uri由协议，存储该资源的主机ip地址（一般不显示），主机资源的具体地址。

​	比如对于本地计算机上的文件的Uri可以表示为: 

**file:///E:/练手项目/java学习/O n%20java%208/On%20java%208.iml**

这里由于一些特殊符号不能在Uri中出现（这些特殊符号在Uri有特殊的含义）需要用转义字符来表示，比如%20表示空格



**Path类实现了Iterator接口，可以对路径中的每一项目录进行遍历**

```java
//Path类实现了Iterator接口，所以可以使用forEach来遍历,
//这里 filePath对应的路径为: E:\练手项目\java学习\On java 8\src\chapter\seventeen\第十七章_文件读写.md
for(Path part:filePath){
System.out.println(part);
}

/*
输出
练手项目
java学习
On java 8
src
chapter
seventeen
第十七章_文件读写.md
*/
```

​	

#### Files工具类对路径进行分析

Files工具类提供了一些方法，来获取Path对象的一些信息，通常为判断Path对象对应的目录或者文件的一些属性



#### Paths工具类对路径进行增删修改

我们可以通过对Path对象进行修改来构造一个新的Path对象。两个实例方法resolve(),relativize()

Path对象的resolve()方法可以在路径后面添加尾路径来构建一个新的Path对象

p1.relativize(p2)可以生成p2相对于p1的相对路径。















